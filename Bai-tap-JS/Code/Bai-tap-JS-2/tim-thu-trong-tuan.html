<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tim thu trong tuan</title>
    <style>
      body {
        margin: 0;
        background: #d4e5f6;
        font-family: Tahoma, "Segoe UI", sans-serif;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        font-size: 11px;
        color: #1f2e4f;
      }
      .window {
        width: 380px;
        background: #f8fbff;
        border: 2px solid #0a3d87;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        position: relative;
      }
      .window::after {
        content: "";
        position: absolute;
        inset: 1px;
        border: 1px solid #ffffff;
        pointer-events: none;
      }
      .title-bar {
        height: 28px;
        background: linear-gradient(#4b8fe1, #1f5dab);
        color: #fff;
        display: flex;
        align-items: center;
        padding: 0 8px;
        box-sizing: border-box;
        font-weight: 700;
        font-size: 12px;
        letter-spacing: 0.2px;
      }
      .title-bar .icon {
        width: 14px;
        height: 14px;
        margin-right: 8px;
        background: #ffc107;
        border: 1px solid #a86d00;
        box-sizing: border-box;
      }
      .title-bar .controls {
        margin-left: auto;
        display: flex;
        gap: 4px;
      }
      .title-bar .btn {
        width: 14px;
        height: 14px;
        border: 1px solid #08306b;
        background: #f4f4f4;
        position: relative;
      }
      .title-bar .btn.close::after {
        content: "x";
        position: absolute;
        inset: 0;
        display: grid;
        place-items: center;
        color: #b60000;
        font-weight: 700;
        font-size: 11px;
      }
      .title-bar .btn.min::after {
        content: "_";
        position: absolute;
        inset: 0;
        display: grid;
        place-items: center;
        color: #08306b;
        font-weight: 700;
        font-size: 11px;
      }
      .body {
        padding: 14px 16px 16px;
        box-sizing: border-box;
      }
      .row {
        display: flex;
        align-items: center;
        gap: 6px;
        margin-bottom: 12px;
      }
      .row label {
        font-weight: 700;
        color: #1e5aa8;
        margin-right: 6px;
      }
      select {
        padding: 4px 6px;
        border: 1px solid #5168a6;
        font-size: 12px;
        box-sizing: border-box;
        height: 26px;
        background: #fff;
        min-width: 72px;
      }
      .actions {
        text-align: center;
        margin: 10px 0 12px;
      }
      .actions button {
        padding: 7px 16px;
        background: #e0e0e0;
        border: 1px solid #4f4f4f;
        font-weight: 700;
        font-size: 12px;
        cursor: pointer;
        box-shadow: inset 0 1px 0 #ffffff, 0 2px 3px rgba(0, 0, 0, 0.2);
      }
      .actions button:hover {
        filter: brightness(0.97);
      }
      .result {
        text-align: center;
        padding: 10px 8px;
        border: 1px solid #c0c0c0;
        background: #fff8ed;
        color: #b00020;
        font-weight: 700;
        min-height: 24px;
      }
    </style>
  </head>
  <body>
    <div class="window">
      <div class="title-bar">
        <div class="icon"></div>
        <span>Tim thu trong tuan</span>
        <div class="controls">
          <div class="btn min" aria-hidden="true"></div>
          <div class="btn close" aria-hidden="true"></div>
        </div>
      </div>
      <div class="body">
        <div class="row">
          <label>Nhap Ngay/thang/nam</label>
          <select id="day"></select>
          <select id="month"></select>
          <select id="year"></select>
        </div>
        <div class="actions">
          <button id="calcBtn">Tim thu trong tuan</button>
        </div>
        <div class="result" id="result">So tien thanh toan la: ...</div>
      </div>
    </div>

    <script>
      const daySelect = document.getElementById("day");
      const monthSelect = document.getElementById("month");
      const yearSelect = document.getElementById("year");
      const calcBtn = document.getElementById("calcBtn");
      const resultBox = document.getElementById("result");

      function pad(num) {
        return num.toString().padStart(2, "0");
      }

      function populateSelects() {
        for (let d = 1; d <= 31; d += 1) {
          const opt = document.createElement("option");
          opt.value = d;
          opt.textContent = pad(d);
          daySelect.appendChild(opt);
        }
        for (let m = 1; m <= 12; m += 1) {
          const opt = document.createElement("option");
          opt.value = m;
          opt.textContent = pad(m);
          monthSelect.appendChild(opt);
        }
        const currentYear = new Date().getFullYear();
        for (let y = currentYear - 10; y <= currentYear + 10; y += 1) {
          const opt = document.createElement("option");
          opt.value = y;
          opt.textContent = y;
          yearSelect.appendChild(opt);
        }
        daySelect.value = new Date().getDate();
        monthSelect.value = new Date().getMonth() + 1;
        yearSelect.value = currentYear;
      }

      function isValidDate(d, m, y) {
        const dt = new Date(y, m - 1, d);
        return (
          dt.getFullYear() === y &&
          dt.getMonth() === m - 1 &&
          dt.getDate() === d
        );
      }

      function weekDayName(index) {
        const names = [
          "Chu Nhat",
          "Thu Hai",
          "Thu Ba",
          "Thu Tu",
          "Thu Nam",
          "Thu Sau",
          "Thu Bay",
        ];
        return names[index] || "";
      }

      function showResult() {
        const d = parseInt(daySelect.value, 10);
        const m = parseInt(monthSelect.value, 10);
        const y = parseInt(yearSelect.value, 10);

        if (!isValidDate(d, m, y)) {
          resultBox.textContent = "Ngay thang nam khong hop le.";
          resultBox.style.color = "#b00020";
          return;
        }

        const dt = new Date(y, m - 1, d);
        const weekday = weekDayName(dt.getDay());
        resultBox.style.color = "#b00020";
        resultBox.textContent = `Ngay ${d} thang ${m} nam ${y} la ngay ${weekday}`;
      }

      calcBtn.addEventListener("click", showResult);
      populateSelects();
      showResult();
    </script>
  </body>
</html>
